# üìò Vocab Mini-App ‚Äî Project Status (v2.4)

## Overview

The **Vocab Mini-App** is a self-contained, client-side web application for learning and managing CEFR-based Spanish vocabulary.
 It is built entirely with **static HTML/CSS/JS**, requiring no backend server, and loads vocabulary from TSV files.
 The app supports multiple learning views ‚Äî **Word List** and **Flashcards** ‚Äî and includes persistent progress tracking, search and filter tools, and per-user customization stored in `localStorage`.

------

## Current Architecture

### Project Structure

```
/assets
  /components
    FlashCards.js
    WordList.js
    TopBar.js
    SettingsModal.js
  /data
    (TSV wordlist files)
  state.js
  styles.css
index.html
```

### Core Concepts

| Concept         | Description                                                  |
| --------------- | ------------------------------------------------------------ |
| **State.js**    | Central store that manages words, filters, sort order, and UI preferences. Uses `localStorage` for persistence. |
| **Components**  | Each page (Word List, Flashcards, etc.) mounts a self-contained UI module using the global `State`. |
| **Routing**     | Very lightweight ‚Äî controlled by URL hash (`#list`, `#flash`, `#settings`). |
| **Persistence** | Stars, weights, filters, and UI preferences saved in `localStorage`. No backend required. |
| **Data Format** | Vocabulary files are **TSV** (tab-separated). JSON support exists but TSV is the default. |

------

## Development Approach

We‚Äôve been working iteratively in small, isolated ‚Äúpasses‚Äù rather than massive refactors.
 Each pass focuses on one area ‚Äî e.g., Flashcards, then Word List, then Filters, etc.
 This has kept the app stable while allowing incremental modernization.

**Key principles used:**

1. **Drop-in Replacements**
    Each new feature was shipped as a single updated file (`TopBar.js`, `state.js`, etc.) so you could copy it directly into `/assets` without touching other code.
2. **Minimal Coupling**
    The app stays fully functional offline and does not depend on external frameworks.
    Components share only through `State` and `subscribe()` notifications.
3. **Progressive Enhancement**
    We replace functionality only after the new system fully replicates the previous behavior.
    Older elements remain in place until the new version proves stable.
4. **Consistent UX across views**
    The top filter bar and state persistence are unified for both Word List and Flashcards.

------

## Implemented Functionality (v2.4)

### 1Ô∏è‚É£ Word List View

- Displays vocabulary in a sortable, filterable table.
- Columns: ‚òÖ (star), Weight, Spanish, English, POS, CEFR, Tags.
- Sorting by any column (asc/desc), with indicators.
- Shuffle randomizes current filtered list.
- Tags formatted as comma-delimited.
- Star icons large and toggle with click.
- Sticky header (Edge quirk noted: header reappears after ~15 rows).
- Responsive layout ‚Äî full-page scroll instead of nested scrollbars.

### 2Ô∏è‚É£ Flashcards View

- Tap or click card to flip between Spanish ‚Üî English.
- Large centered text; meta info (POS, CEFR, Tags) at bottom.
- Keyboard shortcuts: ‚Üê ‚Üí arrows for prev/next; space to flip.
- Translation line toggle (visible based on ‚ÄúShow translation by default‚Äù in Settings).
- Top-right controls for Star and Weight (both synced with Word List).
- Visual style inspired by Quizlet: large navigation buttons and centered progress counter.

### 3Ô∏è‚É£ Top Filter Bar (shared)

- Unified across both pages.
- Chips for:
  - **Only ‚òÖ**
  - **Shuffle**
  - **Filters** (opens full popover)
  - **Search**
  - **Settings (gear)**
- **Filters Popover** includes:
  - POS, CEFR, Tags multi-select lists
  - Weight (W0‚ÄìW4) multi-select buttons
  - Clear & Close buttons
- Search filters across Spanish and English in real time (debounced).
- Displays live result count (‚ÄúX results‚Äù).
- Shuffle clears sort indicators and re-orders visible list.

### 4Ô∏è‚É£ Settings Modal

- Accessed via ‚öôÔ∏è gear icon or `#settings` route.
- Options:
  - Toggle column visibility for Word List.
  - Flashcard default: ‚ÄúShow translation by default‚Äù.
  - Reset all filters, sort, and shuffle order.
- Modern modal overlay with dark theme styling.
- Fully compatible with previous `mountSettings()` calls.

### 5Ô∏è‚É£ Persistence

All the following are stored per-user in `localStorage`:

- Starred words
- Weight (0‚Äì4)
- Filters (starred, search, POS/CEFR/Tags, weight)
- Sort order and Shuffle order
- UI preferences (column visibility, flashcard translation default)

------

## Known Issues / Future Refinement

| Area                    | Notes                                                        |
| ----------------------- | ------------------------------------------------------------ |
| Sticky header           | Edge bug: header isn‚Äôt sticky for first ~15 rows after scroll. |
| Weight chips in Filters | Fully functional but could use select-all/none controls.     |
| Filter UI polish        | Add ‚ÄúClear all filters‚Äù and ‚Äú√ó‚Äù in search box.               |
| Flashcards              | Add Edit (‚úèÔ∏è) and Speaker (üîä) buttons; optional progress bar. |
| Import/export           | Add ability to download or upload stars + weights JSON (for backup). |
| Mobile layout           | Works, but future pass could enlarge touch targets.          |

------

## Recommended Next Steps

1. **UX polish pass**
   - Add ‚ÄúClear All Filters‚Äù and select-all toggles.
   - Subtle tint for sorted column cells in Word List.
   - Improve sticky header (Edge workaround).
2. **Progress Export/Import**
   - JSON file with stars + weights.
   - Buttons in Settings modal.
3. **Hosting**
   - Easiest: GitHub Pages (static)
     - `Settings ‚Üí Pages ‚Üí Source: main branch (root)`
     - Your app will deploy at `https://<username>.github.io/vocab-mini-app/`
4. **Feature Expansion**
   - ‚ÄúLearn‚Äù mode (quiz / fill-in-blank).
   - User-added notes or example sentences per word.
   - Multi-deck / level loader (A1 ‚Üí B2 progression).

------

## Development & Collaboration Notes

- The project is **Git-tracked**. Commits can be done manually or via **Cursor**, which integrates AI edits with your GitHub repo.
- When continuing development:
  - Create a new branch for each feature (e.g., `feature/topbar-polish`).
  - Keep using our incremental approach: one focused component at a time.
  - If working inside **Cursor**, you‚Äôll use Cursor‚Äôs license (not your ChatGPT Plus plan).

------

## Optional: Include Code Snapshot ZIP

Yes ‚Äî it‚Äôs a good idea to also include a ZIP of the full current code in your repo for continuity:

```
/docs/vocab-mini-app-v2.4-full.zip
```

That ensures any future collaborator (or AI chat) can pick up exactly where v2.4 left off without needing your local environment.

------

## Version Tag

> **Version:** v2.4 (Stable)
>  **Date:** *11/1/2025*
>  **Author:** Jim & ChatGPT-5 Development Collaboration
>  **Status:** Feature-complete baseline; ready for UX & data enhancements.
